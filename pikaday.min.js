(function(m,t,s){var u="function"===typeof m.moment,v=!!m.addEventListener,w=m.setTimeout,q=function(a,b,c,d){v?a.addEventListener(b,c,!!d):a.attachEvent("on"+b,c)},p=function(a,b,c,d){v?a.removeEventListener(b,c,!!d):a.detachEvent("on"+b,c)},f=function(a,b){return-1!==(" "+a.className+" ").indexOf(" "+b+" ")},x=function(a){return/Array/.test(Object.prototype.toString.call(a))},n=function(a){return/Date/.test(Object.prototype.toString.call(a))&&!isNaN(a.getTime())},y=function(a,b,c){var d,e;for(d in b)if((e=
a[d]!==s)&&"object"===typeof b[d]&&b[d].nodeName===s)n(b[d])?c&&(a[d]=new Date(b[d].getTime())):x(b[d])?c&&(a[d]=b[d].slice(0)):a[d]=y({},b[d],c);else if(c||!e)a[d]=b[d];return a},z={field:null,calbutton:null,bound:!0,format:"YYYY-MM-DD",defaultDate:null,setDefaultDate:!1,firstDay:0,useTime:!1,useSecs:!1,confirm:!1,formatPreset:0,minDate:null,maxDate:null,yearRange:10,minYear:0,maxYear:9999,minMonth:s,maxMonth:s,isRTL:!1,numberOfMonths:1,i18n:{months:"January February March April May June July August September October November December".split(" "),
weekdays:"Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),weekdaysShort:"Sun Mon Tue Wed Thu Fri Sat".split(" ")},onSelect:null,onOpen:null,onClose:null},A=function(a,b,c){for(b+=a.firstDay;7<=b;)b-=7;return c?a.i18n.weekdaysShort[b]:a.i18n.weekdays[b]},B=function(a,b,c,d,e){if(e)return'<td class="is-empty"></td>';e=[];d&&e.push("is-disabled");c&&e.push("is-today");b&&e.push("is-selected");return'<td data-day="'+a+'" class="'+e.join(" ")+'"><button class="pika-button" type="button">'+
a+"</button></td>"};m.Pikaday=function(a){var b=this,c=b.config(a);b._onMouseDown=function(a){if(b._v){a=a||m.event;var e=a.target||a.srcElement;if(e){if(!f(e,"is-disabled")){if(f(e,"pika-button")&&!f(e,"is-empty"))if(b._da=parseInt(e.innerHTML,10),b.draw(),c.confirm)b._c=!0;else{b.setDate(new Date(b._y,b._m,b._da,b._h,b._mi,b._s));c.bound&&!c.useTime&&w(function(){b.hide()},100);return}else f(e,"pika-year-prev")?b.prevYear():f(e,"pika-year-next")?b.nextYear():f(e,"pika-prev")?b.prevMonth():f(e,"pika-next")?
b.nextMonth():f(e,"pika-hour-prev")?b.prevHour():f(e,"pika-hour-next")?b.nextHour():f(e,"pika-minute-prev")?b.prevMinute():f(e,"pika-minute-next")?b.nextMinute():f(e,"pika-second-prev")?b.prevSecond():f(e,"pika-second-next")?b.nextSecond():f(e,"pika-confirm-button")&&(b.setDate(new Date(Date.UTC(b._y,b._m,b._da,b._h,b._mi,b._s))),c.bound&&w(function(){b.hide()},100));!c.confirm&&!f(e,"pika-select")&&b.setDate(new Date(Date.UTC(b._y,b._m,b._da,b._h,b._mi,b._s)))}if(f(e,"pika-select"))b._c=!0;else if(a.preventDefault)a.preventDefault();
else return a.returnValue=!1}}};b._onChange=function(a){a=a||m.event;(a=a.target||a.srcElement)&&(f(a,"pika-select-year")?b.gotoYear(a.value):f(a,"pika-select-month")?b.gotoMonth(a.value):f(a,"pika-select-hour")?b.gotoHour(a.value):f(a,"pika-select-minute")?b.gotoMinute(a.value):f(a,"pika-select-second")&&b.gotoSecond(a.value))};b._onInputChange=function(a){if(!b._v){var e=/(\d{4}-\d{2}-\d{2})/;a=/(\d?\d:\d{2}(?:\:\d{2})?)/;var l;1==b._o.formatPreset?(e=e.exec(c.field.value),a=a.exec(c.field.value),
null!=e&&(l=new Date(e[0])),null!=a&&(a=a[0],l.setUTCHours(a.substr(0,2),a.substr(3,2)),""!=a.substr(6,2)&&l.setSeconds(a.substr(6,2)))):l=new Date(Date.parse(c.field.value));b.setDate(n(l)?l:null);b.show()}};b._onInputFocus=function(a){b.show()};b._onInputClick=function(a){b.show()};b._onInputBlur=function(a){!b._c&&!b._o.calbutton&&(b._b=w(function(){b.hide()},50));b._c=!1};b._onClick=function(a){a=a||m.event;var e=a=a.target||a.srcElement;if(a){f(a,"pika-select")&&(!v&&!a.onchange)&&(a.setAttribute("onchange",
"return;"),q(a,"change",b._onChange));do if(f(e,"pika-single"))return;while(e=e.parentNode);if(b._v&&a!==(c.calbutton?c.calbutton:c.field))b._o.confirm?"":b.setDate(new Date(Date.UTC(b._y,b._m,b._da,b._h,b._mi,b._s))),b.hide()}};b.el=t.createElement("div");b.el.className="pika-single"+(c.isRTL?" is-rtl":"");q(b.el,"mousedown",b._onMouseDown,!0);q(b.el,"change",b._onChange);c.field&&(c.bound?t.body.appendChild(b.el):c.field.parentNode.insertBefore(b.el,c.field.nextSibling),q(c.field,"change",b._onInputChange),
c.defaultDate||(c.defaultDate=u&&c.field.value?m.moment(c.field.value,c.format).toDate():new Date(Date.parse(c.field.value)),c.setDefaultDate=!0));a=c.defaultDate;n(a)?c.setDefaultDate?b.setDate(a):b.gotoDate(a):b.gotoDate(new Date);c.bound?(this.hide(),b.el.className+=" is-bound",c.calbutton?q(c.calbutton,"click",b._onInputClick):(q(c.field,"click",b._onInputClick),q(c.field,"focus",b._onInputFocus)),q(c.field,"blur",b._onInputBlur)):this.show()};m.Pikaday.prototype={config:function(a){this._o||
(this._o=y({},z,!0));a=y(this._o,a,!0);a.isRTL=!!a.isRTL;a.field=a.field&&a.field.nodeName?a.field:null;a.calbutton=a.calbutton&&a.calbutton.nodeName?a.calbutton:null;a.bound=!!(a.bound!==s?a.field&&a.bound:a.field);var b=parseInt(a.numberOfMonths,10)||1;a.numberOfMonths=4<b?4:b;n(a.minDate)||(a.minDate=!1);n(a.maxDate)||(a.maxDate=!1);a.minDate&&a.maxDate&&a.maxDate<a.minDate&&(a.maxDate=a.minDate=!1);a.minDate&&(a.minYear=a.minDate.getFullYear(),a.minMonth=a.minDate.getMonth());a.maxDate&&(a.maxYear=
a.maxDate.getFullYear(),a.maxMonth=a.maxDate.getMonth());x(a.yearRange)?(b=(new Date).getFullYear()-10,a.yearRange[0]=parseInt(a.yearRange[0],10)||b,a.yearRange[1]=parseInt(a.yearRange[1],10)||b):(a.yearRange=Math.abs(parseInt(a.yearRange,10))||z.yearRange,100<a.yearRange&&(a.yearRange=100));return a},toString:function(a){var b=null;if(n(this._d))if(u)b=m.moment(this._d).format(a||this._o.format);else if(0==this._o.formatPreset)b=this._d.toDateString(),this._o.useTime&&(b+=" "+this._d.toTimeString().substr(0,
5),this._o.useSecs&&(b+=this._d.toTimeString().substr(5,3)));else if(1==this._o.formatPreset)if(this._d.toISOString){if(b=this._d.toISOString().substr(0,10),this._o.useTime){a=("0"+this._d.getUTCHours()).slice(-2);var c=("0"+this._d.getUTCMinutes()).slice(-2),b=b+(" "+a+":"+c);this._o.useSecs&&(a=("0"+this._d.getSeconds()).slice(-2),b+=":"+a)}}else month=this._d.getMonth()+1,day=this._d.getDate(),b=this._d.getFullYear()+"-",b+=(10>month?"0"+month:month)+"-",b+=10>day?"0"+day:day,this._o.useTime&&
(b+=" "+this._d.toTimeString().substr(0,5),this._o.useSecs&&(b+=this._d.toTimeString().substr(5,3)));else"undefined"==typeof console?alert("Error: formatPreset: Not a preset"):console.error("Error: formatPreset: Not a preset");return b},getMoment:function(){return u?m.moment(this._d):null},getDate:function(){return n(this._d)?new Date(this._d.getTime()):null},setDate:function(a){if(!a)return this._d=null,this.draw();"string"===typeof a&&(a=new Date(Date.parse(a.toString())));if(n(a)){var b=this._o.minDate,
c=this._o.maxDate;n(b)&&a<b?a=b:n(c)&&a>c&&(a=c);this._d=new Date(a.getTime());this.gotoDate(this._d);this._o.field&&(this._o.field.value=this.toString());"function"===typeof this._o.onSelect&&this._o.onSelect.call(this,this.getDate())}},gotoDate:function(a){n(a)&&(this._y=a.getFullYear(),this._m=a.getMonth(),this._da=a.getDate(),this._h=a.getUTCHours(),this._mi=a.getUTCMinutes(),this._s=a.getSeconds(),this.draw())},gotoToday:function(){this.gotoDate(new Date)},nextYear:function(){this._y++;this.draw()},
prevYear:function(){this._y--;this.draw()},nextMonth:function(){11<++this._m&&(this._m=0,this._y++);this.draw()},prevMonth:function(){0>--this._m&&(this._m=11,this._y--);this.draw()},nextHour:function(){23<++this._h&&(this._h=0,this._m++);this.draw()},prevHour:function(){0>--this._h&&(this._h=23,this._m--);this.draw()},nextMinute:function(){59<++this._mi&&(this._mi=0,this._h++);this.draw()},prevMinute:function(){0>--this._mi&&(this._mi=59,this._h--);this.draw()},nextSecond:function(){59<++this._s&&
(this._s=0,this._mi++);this.draw()},prevSecond:function(){0>--this._s&&(this._s=59,this._mi--);this.draw()},gotoYear:function(a){isNaN(a)||(this._y=parseInt(a,10),this.draw())},gotoMonth:function(a){if(!isNaN(a=parseInt(a,10)))this._m=0>a?0:11<a?11:a,this.draw()},gotoHour:function(a){isNaN(a)||(this._h=parseInt(a,10),this.draw())},gotoMinute:function(a){isNaN(a)||(this._mi=parseInt(a,10),this.draw())},gotoSecond:function(a){isNaN(a)||(this._s=parseInt(a,10),this.draw())},draw:function(a){if(this._v||
a){a=this._o;var b=a.minYear,c=a.maxYear,d=a.minMonth,e=a.maxMonth;this._y<=b&&(this._y=b,!isNaN(d)&&this._m<d&&(this._m=d));this._y>=c&&(this._y=c,!isNaN(e)&&this._m>e&&(this._m=e));for(var b=this.el,l=this._o,h=this._m,f=this._y,r=f===l.minYear,g=f===l.maxYear,k='<div class="pika-title">',m=!0,n=!0,q=!0,p=!0,e=[],c=0;12>c;c++)e.push('<option value="'+c+'"'+(c===h?" selected":"")+(r&&c<l.minMonth||g&&c>l.maxMonth?"disabled":"")+">"+l.i18n.months[c]+"</option>");k+='<div class="pika-label">'+l.i18n.months[h]+
'<select class="pika-select pika-select-month">'+e.join("")+"</select></div>";x(l.yearRange)?(c=l.yearRange[0],d=l.yearRange[1]+1):(c=f-l.yearRange,d=1+f+l.yearRange);for(e=[];c<d&&c<=l.maxYear;c++)c>=l.minYear&&e.push('<option value="'+c+'"'+(c===f?" selected":"")+">"+c+"</option>");k+='<div class="pika-label">'+f+'<select class="pika-select pika-select-year">'+e.join("")+"</select></div>";if(r&&(m=!1,0===h||l.minMonth>=h))q=!1;if(g&&(n=!1,11===h||l.maxMonth<=h))p=!1;k=k+('<button class="pika-year-prev'+
(m?"":" is-disabled")+'" type="button">Previous Year</button>')+('<button class="pika-year-next'+(n?"":" is-disabled")+'" type="button">Next Year</button>');k+='<button class="pika-prev'+(q?"":" is-disabled")+'" type="button">Previous Month</button>';k+='<button class="pika-next'+(p?"":" is-disabled")+'" type="button">Next Month</button>';c=k+"</div>"+this.render(this._y,this._m,this._da);if(a.useTime){l=this._o;h=this._s;f=this._mi;r=this._h;g='<div class="pika-time">';p=q=n=m=k=!0;0===r&&(k=!1,
0===f&&(n=!1,0===h&&(n=!1)));23===r&&(m=!1,59===f&&(q=!1,59===h&&(p=!1)));e=[];for(d=0;24>d;d+=2)d?e.push('<option value="'+(d-2)+'"'+(d-2===r?" selected":"")+">"+(10<=d-2?d-2:"0"+(d-2))+"</option>"):(e.push('<option value="default" '+(r%2||"undefined"==r?"selected ":"")+"disabled>Select Hour:</option>"),self._w=!1);g=g+('<button class="pika-hour-prev'+(k?"":" is-disabled")+'" type="button">Previous Hour</button>')+('<div class="pika-label-time">'+(10<=r?r:"0"+r)+'<select class="pika-select pika-select-hour">'+
e.join("")+"</select></div>");g+='<button class="pika-hour-next'+(m?"":" is-disabled")+'" type="button">Next Hour</button>';e=[];for(d=0;60>d;d+=5)d?e.push('<option value="'+(d-5)+'"'+(d-5===f?" selected":"")+">"+(10<=d-5?d-5:"0"+(d-5))+"</option>"):e.push('<option value="default" '+(f%5||"undefined"==f?"selected ":"")+"disabled>Select Minutes:</option>");g+='<div class="pika-label-time">:</div>';g+='<button class="pika-minute-prev'+(n?"":" is-disabled")+'" type="button">Previous Minute</button>';
g+='<div class="pika-label-time">'+(10<=f?f:"0"+f)+'<select class="pika-select pika-select-minute">'+e.join("")+"</select></div>";g+='<button class="pika-minute-next'+(q?"":" is-disabled")+'" type="button">Next Minute</button>';if(l.useSecs){e=[];for(d=0;60>d;d+=5)d?e.push('<option value="'+(d-5)+'"'+(d-5===h?" selected":"")+">"+(10<=d-5?d-5:"0"+(d-5))+"</option>"):e.push('<option value="default" '+(h%5||"undefined"==h?"selected ":"")+"disabled>Select Seconds:</option>");g+='<div class="pika-label-time">:</div>';
g+='<button class="pika-second-prev'+(p?"":" is-disabled")+'" type="button">Previous Second</button>';g+='<div class="pika-label-time">'+(10<=h?h:"0"+h)+'<select class="pika-select pika-select-second">'+e.join("")+"</select></div>";g+='<button class="pika-second-next" type="button">Next second</button>'}d=g+"</div>"}else d="";b.innerHTML=c+d+(a.confirm?'<div class="pika-confirm""><button class="pika-confirm-button" type="button">OK</button></div>':"");if(a.bound){a=a.field;b=a.offsetLeft;for(c=a.offsetTop+
a.offsetHeight;a=a.offsetParent;)b+=a.offsetLeft,c+=a.offsetTop;this.el.style.cssText="position:absolute;left:"+b+"px;top:"+c+"px;"}}},render:function(a,b,c){var d=this._o,e=new Date,f=[31,0===a%4&&0!==a%100||0===a%400?29:28,31,30,31,30,31,31,30,31,30,31][b],h=(new Date(a,b,1)).getDay(),n=[],m=[];e.setHours(0,0,0,0);0<d.firstDay&&(h-=d.firstDay,0>h&&(h+=7));for(var g=f+h,k=g;7<k;)k-=7;for(var g=g+(7-k),q=k=0;k<g;k++){var p=new Date(a,b,1+(k-h)),s=d.minDate&&p<d.minDate||d.maxDate&&p>d.maxDate,t=k===
c-1+h?!0:!1,p=p.getTime()===e.getTime();m.push(B(1+(k-h),t,p,s,k<h||k>=f+h));7===++q&&(n.push("<tr>"+(d.isRTL?m.reverse():m).join("")+"</tr>"),m=[],q=0)}b=[];for(a=0;7>a;a++)b.push('<th scope="col"><abbr title="'+A(d,a)+'">'+A(d,a,!0)+"</abbr></th>");return'<table cellpadding="0" cellspacing="0" class="pika-table">'+("<thead>"+(d.isRTL?b.reverse():b).join("")+"</thead>")+("<tbody>"+n.join("")+"</tbody>")+"</table>"},isVisible:function(){return this._v},show:function(){if(!this._v){if(u)self.setDate(m.moment(opts.field.value,
opts.format).toDate());else{var a;this._o.field.value&&(1==this._o.formatPreset?(this._y=parseInt(this._o.field.value.substr(0,4),10),this._m=parseInt(this._o.field.value.substr(5,2),10)-1,this._da=parseInt(this._o.field.value.substr(8,2),10),this._o.useTime&&(this._h=parseInt(this._o.field.value.substr(11,2),10),this._mi=parseInt(this._o.field.value.substr(14,2),10),this._o.useSecs&&(this._s=parseInt(this._o.field.value.substr(17,2),10))),a=new Date(Date.UTC(this._y,this._m,this._da,this._h,this._mi,
this._s))):a=new Date(Date.parse(this._o.field.value)),this.setDate(n(a)?a:null))}this._o.bound&&q(t,"click",this._onClick);a=this.el;var b;b=(" "+a.className+" ").replace(" is-hidden "," ");b=b.trim?b.trim():b.replace(/^\s+|\s+$/g,"");a.className=b;this._v=!0;this.draw();"function"===typeof this._o.onOpen&&this._o.onOpen.call(this)}},hide:function(){var a=this._v;if(!1!==a){this._o.bound&&p(t,"click",this._onClick);this.el.style.cssText="";var b=this.el;f(b,"is-hidden")||(b.className=""===b.className?
"is-hidden":b.className+" is-hidden");this._v=!1;a!==s&&"function"===typeof this._o.onClose&&this._o.onClose.call(this)}},destroy:function(){this.hide();p(this.el,"mousedown",this._onMouseDown,!0);p(this.el,"change",this._onChange);this._o.field&&(p(this._o.field,"change",this._onInputChange),this._o.bound&&(opts.calbutton?p(this._o.calbutton,"click",this._onInputClick):(p(this._o.field,"click",this._onInputClick),p(this._o.field,"focus",this._onInputFocus)),p(this._o.field,"blur",this._onInputBlur)));
this.el.parentNode&&this.el.parentNode.removeChild(this.el)}}})(window,window.document);
